**# 2021大厂前端核心面试题详解**



**## 1. 说一下工作中解决过比较困难的问题，说一下项目中比较有亮点的地方**

面试官要看一下你解决问题的能力



**## 2. 你了解浏览器的事件循环吗?**

事件循环是什么





2.1 为什么js在浏览器中有事件循环的机制

js是单线程, 如果多线程1个要删除dom, 一个要操作dom, 所以单线程



event loop来实现非堵塞和异步任务和



2.2 你了解事件循环中的两种任务?



宏任务: 整体代码块, setTimeout, setInterval, I/O操作

微任务: new Promise().then, MutaionObserver(前端的回溯)



2.3 为什么要引入微任务概念， 只有宏任务可以吗

在js的执行或者页面的渲染过程中，所有的宏任务都保持的先进先出的过程执行

我们不能准确的控制事件添加到任务队列中的位置，只是遵循先进先出

如果这个时候如果有高优先级的任务进入，需要非常紧急的执行, 所有引入微任务概念



宏任务: 先进先出的原则执行



2.4 你了解node中的事件循环和浏览器中的有什么区别



宏任务的执行顺序:

1. timers定时器: 执行已经安排的setTimeout和setInterval的回调

2. pending callback 待定回调: 执行延迟到下一个循环迭代的I/O回调

3. idle, prepare: 仅系统内部使用.

4. pool: 检索新的I/O事件，执行与I/O相关的回调

5. check: 执行setImmediate的回调函数

6. close callback: socket.on('close', ()=>?)



微任务和宏任务在node中的执行顺序:

Node v10及以前

1. 执行完一个阶段中的所有宏任务

2. 执行nextTick队列里的内容

3. 执行完微任务队列



Node v10以后:

和浏览器行为统一了

